!function e(t,n,o){function r(s,a){if(!n[s]){if(!t[s]){var d="function"==typeof require&&require;if(!a&&d)return d(s,!0);if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return r(n||e)},u,u.exports,e,t,n,o)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e){this.HTMLElement=e,this.lazyloadEnabled=!1,this.autoRefreshEnabled=!1,this.autoRefreshCounter=1}return e}();n.AdSlot=o},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("./logger"),r=e("./viewport");!function(e){function t(e,t,r){void 0===t&&(t={}),e.autoRefreshEnabled&&(e.autoRefreshCounter<=e.autoRefreshLimit?(o.Logger.infoWithTime(e.name,"refreshing in",e.autoRefreshTime,"seconds (",e.autoRefreshCounter,"/",e.autoRefreshLimit,")"),setTimeout(n,1e3*e.autoRefreshTime,e,r,t),e.autoRefreshCounter++):(e.autoRefreshEnabled=!1,o.Logger.infoWithTime(e.name,"auto refresh ended")))}function n(t,n,r){o.Logger.logWithTime(t.name,"starting refresh for auto rotate"),e.refreshIfViewable(t,n,r)}function i(t,n,i){if(document.hidden){o.Logger.logWithTime(t.name,"marked for refresh on visibilitychange");var s=function(){e.refreshIfViewable(t,n,i),document.removeEventListener("visibilitychange",s)};return void document.addEventListener("visibilitychange",s)}if(r.Viewport.getCurrentViewabilityPercentage(t.HTMLElement)>=50)n(t,i);else{o.Logger.logWithTime(t.name,"viewablity lower than 50%, not refreshing");var a=setInterval(function(){r.Viewport.getCurrentViewabilityPercentage(t.HTMLElement)>=50&&(n(t,i),clearInterval(a))},5e3)}}e.start=t,e.refreshIfViewable=i}(n.AutoRefresh||(n.AutoRefresh={}))},{"./logger":3,"./viewport":4}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}function n(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t(d(),"->",e.join(" "))}function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o(d(),"->",e.join(" "))}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]}function a(){}function d(){return(new Date).getHours()+":"+(new Date).getMinutes()+":"+(new Date).getSeconds()+"."+(new Date).getMilliseconds()}location.hash.indexOf("development");e.log=t,e.logWithTime=n,e.info=o,e.infoWithTime=r,e.warn=i,e.error=s,e.consoleWelcomeMessage=a}(n.Logger||(n.Logger={}))},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e){function t(e,t){var n=e.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom-t<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)}function n(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function o(e){var t=e.getBoundingClientRect().top,n=t>0?window.innerHeight-t:Math.abs(t),o=n/e.clientHeight;return o=t>0?o:1-o,o<0&&(o=0),o>1&&(o=1),100*o}e.isElementInViewport=t,e.isElementVisible=n,e.getCurrentViewabilityPercentage=o}(n.Viewport||(n.Viewport={}))},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("../smartadserver/smart.adslot"),r=e("../../modules/logger"),i=e("../../modules/viewport"),s=e("../../modules/autorefresh"),a=function(){function e(){this.name="PrebidSmart",this.slots={},this.PREBID_TIMEOUT=700,this.options={}}return e.prototype.init=function(e){var t=this;return this.slots=this.getSlots(),this.PREBID_TIMEOUT=e.PREBID_TIMEOUT,this.options=e,new Promise(function(n,o){function i(e){var t=Math.floor(1e9*Math.random()),n=document.createElement("div");n.id="ias-"+t,document.getElementById(sas.info[e].divId).appendChild(n);var o,r,i,s,a;o="//pixel.adsafeprotected.com/jload?anId=922503&campId="+sas.info[e].creativeWidth+"x"+sas.info[e].creativeHeight+"&pubId="+sas.info[e].advertiserId+"&chanId="+sas.info[e].formatId+"&placementId="+sas.info[e].insertionId+"&pubCreative="+sas.info[e].creativeId+"&pubOrder="+sas.info[e].campaignId+"&cb="+t,r=document.createElement("iframe"),(r.frameElement||r).style.cssText="width: 0; height: 0; border: 0; display: none;",r.src="javascript:false",s=n,s.parentNode.insertBefore(r,s);try{i=r.contentWindow.document}catch(e){a=document.domain,r.src="javascript:var d=document.open();d.domain='"+a+"';void(0);",i=r.contentWindow.document}i.open().write("<body onload=\"window.__IntegralASUseFIF = true;var js = document.createElement('script');js.src = '"+o+"';document.body.appendChild(js);\">"),i.close()}function a(t){var n=Math.floor(1e9*Math.random()),o=document.getElementById(sas.info[t].divId);if(/Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent)){var r=document.createElement("img");r.src="http://b.scorecardresearch.com/p?c1=8&c2=6035191&c3="+e.siteId+"&ns_ap_it=b&rn="+n,o.appendChild(r)}else{var i=i||[];i.push({c1:"8",c2:"6035191",c3:e.siteId}),function(){var e=document.createElement("script");e.async=!0,e.src=("https:"==document.location.protocol?"https://sb":"http://b")+".scorecardresearch.com/beacon.js",o.appendChild(e)}()}}function d(){pbjs.adserverRequestSent||(sas.cmd.push(function(){sas.call("onecall",{siteId:e.siteId,pageId:e.pageId,formatId:e.formatId,target:e.target+t.getPbTarget()})}),r.Logger.infoWithTime("Sending ad server request"),pbjs.adserverRequestSent=!0,pbjs.que.push(function(){e.sendAllBids&&(r.Logger.infoWithTime("Enabling all bids"),pbjs.enableSendAllBids()),e.logBids&&(r.Logger.infoWithTime("Bids returned, listing:"),r.Logger.log(pbjs.getAdserverTargeting()));for(var o in t.slots)t.slots[o].lazyloadOffset||(t.slots[o].render(),r.Logger.log(t.name,"ad slot rendered: ",t.slots[o]));n()}))}window.sasCallback=function(n){r.Logger.logWithTime(sas.info[n].divId,"finished slot rendering");var o=t.slots[sas.info[n].divId];s.AutoRefresh.start(o,e,t.autoRefresh),i(n),a(n),e.sasCallback&&e.sasCallback(n)},pbjs.que.push(function(){r.Logger.infoWithTime("Adding adunits to prebid..."),pbjs.addAdUnits(e.adUnits),r.Logger.infoWithTime("Requesting bids..."),pbjs.requestBids({bidsBackHandler:function(e){d()}})}),setTimeout(function(){r.Logger.infoWithTime("Timeout reached, will send ad server request"),d()},e.PREBID_TIMEOUT),t.onScrollRefreshLazyloadedSlots()})},e.prototype.getPbTarget=function(){var e=pbjs.getAdserverTargeting(),t="";for(var n in e)for(var o in e[n])""!=e[n][o]&&(t+=n+"_"+o+"="+e[n][o]+";");return t},e.prototype.onScrollRefreshLazyloadedSlots=function(){var e=this;window.addEventListener("scroll",function(t){for(var n in e.slots){var o=e.slots[n];o.lazyloadEnabled&&i.Viewport.isElementInViewport(o.HTMLElement,o.lazyloadOffset)&&(o.refresh(),o.lazyloadEnabled=!1)}})},e.prototype.autoRefresh=function(e,t){function n(){var e=pbjs.getAdserverTargeting(),t="";for(var n in e)for(var o in e[n])""!=e[n][o]&&(t+=n+"_"+o+"="+e[n][o]+";");return t}r.Logger.logWithTime(e.name,"started refreshing"),pbjs.que.push(function(){pbjs.requestBids({timeout:t.PREBID_TIMEOUT,adUnitCodes:[e.smartAdId],bidsBackHandler:function(){e.std({siteId:t.siteId,pageId:t.pageId,formatId:e.smartAdId,target:t.target+n()})}})})},e.prototype.getSlots=function(){var e={};for(var t in window._molotovAds.slots){var n=window._molotovAds.slots[t].HTMLElement;""!==n.dataset.madAdunit&&(e[n.id]=new o.SmartAdSlot(n),window._molotovAds.slots[n.id]=e[n.id])}return e},e}();n.SmartPrebidPlugIn=a,window._molotovAds.loadPlugin(new a)},{"../../modules/autorefresh":2,"../../modules/logger":3,"../../modules/viewport":4,"../smartadserver/smart.adslot":6}],6:[function(e,t,n){"use strict";var o=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../modules/adslot"),i=function(e){function t(t){var n=e.call(this,t)||this;n.HTMLElement=t;var o=t.dataset;return n.name=t.id,n.smartAdId=o.madSmartadId,n.autoRefreshTime=Number(o.madAutoRefreshInSeconds)||0,n.autoRefreshLimit=Number(o.madAutoRefreshLimit)||0,n.lazyloadOffset=Number(o.madLazyloadOffset),n.autoRefreshEnabled=n.autoRefreshTime>0,n.lazyloadOffset&&(n.lazyloadOffset=n.lazyloadOffset||0,n.lazyloadEnabled=!0),n}return o(t,e),t.prototype.refresh=function(){sas.render(this.smartAdId)},t.prototype.render=function(){this.lazyloadEnabled||sas.render(this.smartAdId)},t.prototype.std=function(e){sas.cmd.push(function(){sas.call("std",e)})},t}(r.AdSlot);n.SmartAdSlot=i},{"../../modules/adslot":1}]},{},[5]);